<!DOCTYPE html>
<html>
<head>
    <title>Students List</title>
</head>
<body>

<h2>Students List</h2>

<!-- Branch Filter -->
<form action="/students" method="GET">
    Filter by Branch:
    <select name="branch">
        <option value="">All</option>
        <option value="CSE">CSE</option>
        <option value="IT">IT</option>
        <option value="ECE">ECE</option>
        <option value="ME">ME</option>
    </select>
    <button type="submit">Filter</button>
</form>

<br>

<h3>Total Students: <%= students.length %></h3>

<% if (students.length === 0) { %>
    <p>No students registered</p>
<% } else { %>

<table border="1" cellpadding="8">
    <tr>
        <th>S.No</th>
        <th>Name</th>
        <th>Branch</th>
        <th>Action</th>
    </tr>

    <% students.forEach((student, index) => { %>
        <tr>
            <td><%= index + 1 %></td>
            <td><%= student.name %></td>
            <td><%= student.branch %></td>
            <td>
                <a href="/students/delete/<%= student.id %>">Delete</a>
            </td>
        </tr>
    <% }) %>

</table>

<% } %>

<br>
<a href="/">Add Student</a>

</body>
</html>
